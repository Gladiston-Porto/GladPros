(()=>{var e={};e.id=2298,e.ids=[2298],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},58055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>l,routeModule:()=>u,serverHooks:()=>p,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>c});var n={};r.r(n),r.d(n,{GET:()=>i});var o=r(96559),s=r(48088),a=r(37719);async function i(e){var t;let{searchParams:r}=new URL(e.url),n=r.get("city")??"S\xe3o Paulo",o=`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(n)}&count=1&language=pt&format=json`,s=await fetch(o,{next:{revalidate:86400}});if(!s.ok)return new Response(JSON.stringify({error:"Geocoding failed"}),{status:s.status});let a=await s.json(),i=a?.results?.[0];if(!i)return new Response(JSON.stringify({error:"City not found"}),{status:404});let u=`https://api.open-meteo.com/v1/forecast?latitude=${i.latitude}&longitude=${i.longitude}&current=temperature_2m,apparent_temperature,weather_code&timezone=auto`,d=await fetch(u,{next:{revalidate:900}});if(!d.ok)return new Response(JSON.stringify({error:"Weather fetch failed"}),{status:d.status});let c=await d.json(),p=Math.round(c?.current?.temperature_2m??NaN),l=Math.round(c?.current?.apparent_temperature??NaN),{condition:m,desc:h}=[0].includes(t=Number(c?.current?.weather_code??3))?{condition:"Clear",desc:"C\xe9u limpo"}:[1,2,3].includes(t)?{condition:"Clouds",desc:"Parcialmente nublado"}:[45,48].includes(t)?{condition:"Fog",desc:"Nevoeiro"}:[51,53,55,56,57].includes(t)?{condition:"Rain",desc:"Garoa/chuvisco"}:[61,63,65,66,67,80,81,82].includes(t)?{condition:"Rain",desc:"Chuva"}:[71,73,75,77,85,86].includes(t)?{condition:"Snow",desc:"Neve"}:[95,96,99].includes(t)?{condition:"Thunderstorm",desc:"Tempestade"}:{condition:"Clouds",desc:"Condi\xe7\xe3o desconhecida"};return Response.json({city:`${i.name}${i.admin1?`, ${i.admin1}`:""}`,temp:p,feelsLike:l,condition:m,description:h})}let u=new o.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/weather/route",pathname:"/api/weather",filename:"route",bundlePath:"app/api/weather/route"},resolvedPagePath:"C:\\Users\\gladi\\Documents\\gladpros-nextjs\\src\\app\\api\\weather\\route.ts",nextConfigOutput:"standalone",userland:n}),{workAsyncStorage:d,workUnitAsyncStorage:c,serverHooks:p}=u;function l(){return(0,a.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:c})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{},96559:(e,t,r)=>{"use strict";e.exports=r(44870)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[7719],()=>r(58055));module.exports=n})();