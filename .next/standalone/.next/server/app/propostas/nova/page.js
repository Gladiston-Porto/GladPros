(()=>{var e={};e.id=2535,e.ids=[2535],e.modules={579:(e,t,r)=>{"use strict";r.d(t,{$n:()=>u,Ex:()=>c,Gl:()=>p,JU:()=>a,TM:()=>o,gp:()=>i,l6:()=>l,pd:()=>s,wn:()=>d});var n=r(60687);r(43210);let i={blue:"#0A2C52",orange:"#D6631C"},a=({children:e,required:t,className:r})=>(0,n.jsxs)("label",{className:`block text-sm font-medium text-slate-700 ${r||""}`,children:[e,t?(0,n.jsx)("span",{className:"text-red-500",children:" *"}):null]}),s=e=>(0,n.jsx)("input",{...e,className:["w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm","focus:outline-none focus:ring-2 focus:ring-[var(--gp-orange)]",e.className??""].join(" ")}),o=e=>(0,n.jsx)("textarea",{rows:e.rows??4,...e,className:["w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm","focus:outline-none focus:ring-2 focus:ring-[var(--gp-orange)]",e.className??""].join(" ")}),l=e=>(0,n.jsx)("select",{...e,className:["w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm","focus:outline-none focus:ring-2 focus:ring-[var(--gp-orange)]",e.className??""].join(" ")}),d=({title:e,subtitle:t,children:r,right:i})=>(0,n.jsxs)("section",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[(0,n.jsxs)("div",{className:"mb-4 flex items-start justify-between gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-base font-semibold text-slate-800",children:e}),t?(0,n.jsx)("p",{className:"mt-1 text-sm text-slate-500",children:t}):null]}),i]}),r]}),c=({children:e,color:t="slate"})=>(0,n.jsx)("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs ${{slate:"bg-slate-100 text-slate-700",green:"bg-emerald-100 text-emerald-700",orange:"bg-amber-100 text-amber-700",red:"bg-rose-100 text-rose-700"}[t]}`,children:e}),u=e=>(0,n.jsx)("button",{...e,className:["inline-flex items-center justify-center rounded-xl px-4 py-2.5 text-sm font-semibold","bg-blue-600 text-white hover:bg-blue-700 focus:ring-4 focus:ring-blue-300","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors duration-200",e.className||""].join(" ")});function p(e){return null==e||Number.isNaN(e)?"-":e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},1708:e=>{"use strict";e.exports=require("node:process")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6066:(e,t,r)=>{"use strict";let n,i;r.d(t,{default:()=>rK});var a=r(60687),s=r(43210),o=r(16189),l=r(99150),d=r(6963),c=r(60198),u=r(579);function p(e,t,r){function n(r,n){var i;for(let a in Object.defineProperty(r,"_zod",{value:r._zod??{},enumerable:!1}),(i=r._zod).traits??(i.traits=new Set),r._zod.traits.add(e),t(r,n),s.prototype)a in r||Object.defineProperty(r,a,{value:s.prototype[a].bind(r)});r._zod.constr=s,r._zod.def=n}let i=r?.Parent??Object;class a extends i{}function s(e){var t;let i=r?.Parent?new a:this;for(let r of(n(i,e),(t=i._zod).deferred??(t.deferred=[]),i._zod.deferred))r();return i}return Object.defineProperty(a,"name",{value:e}),Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>!!r?.Parent&&t instanceof r.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}Object.freeze({status:"aborted"}),Symbol("zod_brand");class m extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class h extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}let f={};function v(e){return e&&Object.assign(f,e),f}let g=/^[cC][^\s-]{8,}$/,x=/^[0-9a-z]+$/,_=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,b=/^[0-9a-vA-V]{20}$/,y=/^[A-Za-z0-9]{27}$/,j=/^[a-zA-Z0-9_-]{21}$/,z=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,w=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,N=e=>e?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,k=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,C=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,E=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,A=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,P=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,S=/^[A-Za-z0-9_-]*$/,I=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,O=/^\+(?:[0-9]){6,14}[0-9]$/,Z="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",T=RegExp(`^${Z}$`);function U(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}let D=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${t}$`)},R=/^\d+$/,J=/^-?\d+(?:\.\d+)?/i,q=/^[^A-Z]*$/,F=/^[^a-z]*$/;function M(e,t){return"bigint"==typeof t?t.toString():t}function V(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function G(e){let t=+!!e.startsWith("^"),r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}let L=Symbol("evaluating");function B(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==L)return void 0===n&&(n=L,n=r()),n},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function W(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function H(...e){let t={};for(let r of e)Object.assign(t,Object.getOwnPropertyDescriptors(r));return Object.defineProperties({},t)}function X(e){return JSON.stringify(e)}let Y="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function K(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}let Q=V(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}});function ee(e){if(!1===K(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!1!==K(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}function et(e){return ee(e)?{...e}:e}let er=new Set(["string","number","symbol"]);function en(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ei(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function ea(e){if(!e)return{};if("string"==typeof e)return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");e.error=e.message}return(delete e.message,"string"==typeof e.error)?{...e,error:()=>e.error}:e}let es={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function eo(e,t=0){if(!0===e.aborted)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function el(e,t){return t.map(t=>(t.path??(t.path=[]),t.path.unshift(e),t))}function ed(e){return"string"==typeof e?e:e?.message}function ec(e,t,r){let n={...e,path:e.path??[]};return e.message||(n.message=ed(e.inst?._zod.def?.error?.(e))??ed(t?.error?.(e))??ed(r.customError?.(e))??ed(r.localeError?.(e))??"Invalid input"),delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function eu(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function ep(...e){let[t,r,n]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:n}:{...t}}let em=p("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),eh={number:"number",bigint:"bigint",object:"date"},ef=p("$ZodCheckLessThan",(e,t)=>{em.init(e,t);let r=eh[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,n=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<n&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),ev=p("$ZodCheckGreaterThan",(e,t)=>{em.init(e,t);let r=eh[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,n=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>n&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),eg=p("$ZodCheckMultipleOf",(e,t)=>{em.init(e,t),e._zod.onattach.push(e=>{var r;(r=e._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof r.value?r.value%t.value===BigInt(0):0===function(e,t){let r=(e.toString().split(".")[1]||"").length,n=t.toString(),i=(n.split(".")[1]||"").length;if(0===i&&/\d?e-\d?/.test(n)){let e=n.match(/\d?e-(\d?)/);e?.[1]&&(i=Number.parseInt(e[1]))}let a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}(r.value,t.value))||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),ex=p("$ZodCheckNumberFormat",(e,t)=>{em.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),n=r?"int":"number",[i,a]=es[t.format];e._zod.onattach.push(e=>{let n=e._zod.bag;n.format=t.format,n.minimum=i,n.maximum=a,r&&(n.pattern=R)}),e._zod.check=s=>{let o=s.value;if(r){if(!Number.isInteger(o))return void s.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});if(!Number.isSafeInteger(o))return void(o>0?s.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):s.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}))}o<i&&s.issues.push({origin:"number",input:o,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),o>a&&s.issues.push({origin:"number",input:o,code:"too_big",maximum:a,inst:e})}}),e_=p("$ZodCheckMaxLength",(e,t)=>{var r;em.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return null!=t&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let n=r.value;if(n.length<=t.maximum)return;let i=eu(n);r.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),eb=p("$ZodCheckMinLength",(e,t)=>{var r;em.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return null!=t&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let n=r.value;if(n.length>=t.minimum)return;let i=eu(n);r.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),ey=p("$ZodCheckLengthEquals",(e,t)=>{var r;em.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return null!=t&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{let n=r.value,i=n.length;if(i===t.length)return;let a=eu(n),s=i>t.length;r.issues.push({origin:a,...s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),ej=p("$ZodCheckStringFormat",(e,t)=>{var r,n;em.init(e,t),e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),ez=p("$ZodCheckRegex",(e,t)=>{ej.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),ew=p("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=q),ej.init(e,t)}),eN=p("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=F),ej.init(e,t)}),ek=p("$ZodCheckIncludes",(e,t)=>{em.init(e,t);let r=en(t.includes),n=new RegExp("number"==typeof t.position?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),eC=p("$ZodCheckStartsWith",(e,t)=>{em.init(e,t);let r=RegExp(`^${en(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),eE=p("$ZodCheckEndsWith",(e,t)=>{em.init(e,t);let r=RegExp(`.*${en(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),eA=p("$ZodCheckOverwrite",(e,t)=>{em.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class eP{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}let e$=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,M,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},eS=p("$ZodError",e$),eI=p("$ZodError",e$,{Parent:Error}),eO=e=>(t,r,n)=>{let i=n?{...n,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},i);if(a instanceof Promise)throw new m;return a.issues.length?{success:!1,error:new(e??eS)(a.issues.map(e=>ec(e,i,v())))}:{success:!0,data:a.value}},eZ=eO(eI),eT=e=>async(t,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},a=t._zod.run({value:r,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(e=>ec(e,i,v())))}:{success:!0,data:a.value}},eU=eT(eI),eD={major:4,minor:1,patch:0},eR=p("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=eD;let n=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&n.unshift(e),n))for(let r of t._zod.onattach)r(e);if(0===n.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,r)=>{let n,i=eo(e);for(let a of t){if(a._zod.def.when){if(!a._zod.def.when(e))continue}else if(i)continue;let t=e.issues.length,s=a._zod.check(e);if(s instanceof Promise&&r?.async===!1)throw new m;if(n||s instanceof Promise)n=(n??Promise.resolve()).then(async()=>{await s,e.issues.length!==t&&(i||(i=eo(e,t)))});else{if(e.issues.length===t)continue;i||(i=eo(e,t))}}return n?n.then(()=>e):e},r=(r,i,a)=>{if(eo(r))return r.aborted=!0,r;let s=t(i,n,a);if(s instanceof Promise){if(!1===a.async)throw new m;return s.then(t=>e._zod.parse(t,a))}return e._zod.parse(s,a)};e._zod.run=(i,a)=>{if(a.skipChecks)return e._zod.parse(i,a);if("backward"===a.direction){let t=e._zod.parse({value:i.value,issues:[]},{...a,skipChecks:!0});return t instanceof Promise?t.then(e=>r(e,i,a)):r(t,i,a)}let s=e._zod.parse(i,a);if(s instanceof Promise){if(!1===a.async)throw new m;return s.then(e=>t(e,n,a))}return t(s,n,a)}}e["~standard"]={validate:t=>{try{let r=eZ(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return eU(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),eJ=p("$ZodString",(e,t)=>{eR.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??D(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch(e){}return"string"==typeof r.value||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),eq=p("$ZodStringFormat",(e,t)=>{ej.init(e,t),eJ.init(e,t)}),eF=p("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=w),eq.init(e,t)}),eM=p("$ZodUUID",(e,t)=>{if(t.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=N(e))}else t.pattern??(t.pattern=N());eq.init(e,t)}),eV=p("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=k),eq.init(e,t)}),eG=p("$ZodURL",(e,t)=>{eq.init(e,t),e._zod.check=r=>{try{let n=r.value.trim(),i=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:I.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=i.href:r.value=n;return}catch(n){r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),eL=p("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),eq.init(e,t)}),eB=p("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=j),eq.init(e,t)}),eW=p("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=g),eq.init(e,t)}),eH=p("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=x),eq.init(e,t)}),eX=p("$ZodULID",(e,t)=>{t.pattern??(t.pattern=_),eq.init(e,t)}),eY=p("$ZodXID",(e,t)=>{t.pattern??(t.pattern=b),eq.init(e,t)}),eK=p("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=y),eq.init(e,t)}),eQ=p("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=function(e){let t=U({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let n=`${t}(?:${r.join("|")})`;return RegExp(`^${Z}T(?:${n})$`)}(t)),eq.init(e,t)}),e0=p("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=T),eq.init(e,t)}),e1=p("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=RegExp(`^${U(t)}$`)),eq.init(e,t)}),e2=p("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=z),eq.init(e,t)}),e4=p("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=C),eq.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),e9=p("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=E),eq.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),e6=p("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=A),eq.init(e,t)}),e5=p("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=P),eq.init(e,t),e._zod.check=r=>{let[n,i]=r.value.split("/");try{if(!i)throw Error();let e=Number(i);if(`${e}`!==i||e<0||e>128)throw Error();new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function e3(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}let e8=p("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=$),eq.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{e3(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}}),e7=p("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=S),eq.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{!function(e){if(!S.test(e))return!1;let t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return e3(t.padEnd(4*Math.ceil(t.length/4),"="))}(r.value)&&r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),te=p("$ZodE164",(e,t)=>{t.pattern??(t.pattern=O),eq.init(e,t)}),tt=p("$ZodJWT",(e,t)=>{eq.init(e,t),e._zod.check=r=>{!function(e,t=null){try{let r=e.split(".");if(3!==r.length)return!1;let[n]=r;if(!n)return!1;let i=JSON.parse(atob(n));if("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))return!1;return!0}catch{return!1}}(r.value,t.alg)&&r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),tr=p("$ZodNumber",(e,t)=>{eR.init(e,t),e._zod.pattern=e._zod.bag.pattern??J,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch(e){}let i=r.value;if("number"==typeof i&&!Number.isNaN(i)&&Number.isFinite(i))return r;let a="number"==typeof i?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...a?{received:a}:{}}),r}}),tn=p("$ZodNumber",(e,t)=>{ex.init(e,t),tr.init(e,t)}),ti=p("$ZodUnknown",(e,t)=>{eR.init(e,t),e._zod.parse=e=>e}),ta=p("$ZodNever",(e,t)=>{eR.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)});function ts(e,t,r){e.issues.length&&t.issues.push(...el(r,e.issues)),t.value[r]=e.value}let to=p("$ZodArray",(e,t)=>{eR.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);let a=[];for(let e=0;e<i.length;e++){let s=i[e],o=t.element._zod.run({value:s,issues:[]},n);o instanceof Promise?a.push(o.then(t=>ts(t,r,e))):ts(o,r,e)}return a.length?Promise.all(a).then(()=>r):r}});function tl(e,t,r,n){e.issues.length&&t.issues.push(...el(r,e.issues)),void 0===e.value?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function td(e){var t;let r=Object.keys(e.shape);for(let t of r)if(!e.shape[t]._zod.traits.has("$ZodType"))throw Error(`Invalid element at key "${t}": expected a Zod schema`);let n=Object.keys(t=e.shape).filter(e=>"optional"===t[e]._zod.optin&&"optional"===t[e]._zod.optout);return{...e,keys:r,keySet:new Set(r),numKeys:r.length,optionalKeys:new Set(n)}}function tc(e,t,r,n,i,a){let s=[],o=i.keySet,l=i.catchall._zod,d=l.def.type;for(let i of Object.keys(t)){if(o.has(i))continue;if("never"===d){s.push(i);continue}let a=l.run({value:t[i],issues:[]},n);a instanceof Promise?e.push(a.then(e=>tl(e,r,i,t))):tl(a,r,i,t)}return(s.length&&r.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:a}),e.length)?Promise.all(e).then(()=>r):r}let tu=p("$ZodObject",(e,t)=>{let r;eR.init(e,t);let n=V(()=>td(t));B(e._zod,"propValues",()=>{let e=t.shape,r={};for(let t in e){let n=e[t]._zod;if(n.values)for(let e of(r[t]??(r[t]=new Set),n.values))r[t].add(e)}return r});let i=t.catchall;e._zod.parse=(t,a)=>{r??(r=n.value);let s=t.value;if(!K(s))return t.issues.push({expected:"object",code:"invalid_type",input:s,inst:e}),t;t.value={};let o=[],l=r.shape;for(let e of r.keys){let r=l[e]._zod.run({value:s[e],issues:[]},a);r instanceof Promise?o.push(r.then(r=>tl(r,t,e,s))):tl(r,t,e,s)}return i?tc(o,s,t,a,n.value,e):o.length?Promise.all(o).then(()=>t):t}}),tp=p("$ZodObjectJIT",(e,t)=>{let r,n;tu.init(e,t);let i=e._zod.parse,a=V(()=>td(t)),s=e=>{let t=new eP(["shape","payload","ctx"]),r=a.value,n=e=>{let t=X(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let i=Object.create(null),s=0;for(let e of r.keys)i[e]=`key_${s++}`;for(let e of(t.write("const newResult = {}"),r.keys)){let r=i[e],a=X(e);t.write(`const ${r} = ${n(e)};`),t.write(`
        if (${r}.issues.length) {
          payload.issues = payload.issues.concat(${r}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${a}, ...iss.path] : [${a}]
          })));
        }
        
        if (${r}.value === undefined) {
          if (${a} in input) {
            newResult[${a}] = undefined;
          }
        } else {
          newResult[${a}] = ${r}.value;
        }
      `)}t.write("payload.value = newResult;"),t.write("return payload;");let o=t.compile();return(t,r)=>o(e,t,r)},o=!f.jitless,l=o&&Q.value,d=t.catchall;e._zod.parse=(c,u)=>{n??(n=a.value);let p=c.value;return K(p)?o&&l&&u?.async===!1&&!0!==u.jitless?(r||(r=s(t.shape)),c=r(c,u),d)?tc([],p,c,u,n,e):c:i(c,u):(c.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),c)}});function tm(e,t,r,n){for(let r of e)if(0===r.issues.length)return t.value=r.value,t;let i=e.filter(e=>!eo(e));return 1===i.length?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>ec(e,n,v())))}),t)}let th=p("$ZodUnion",(e,t)=>{eR.init(e,t),B(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),B(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),B(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),B(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>G(e.source)).join("|")})$`)}});let r=1===t.options.length,n=t.options[0]._zod.run;e._zod.parse=(i,a)=>{if(r)return n(i,a);let s=!1,o=[];for(let e of t.options){let t=e._zod.run({value:i.value,issues:[]},a);if(t instanceof Promise)o.push(t),s=!0;else{if(0===t.issues.length)return t;o.push(t)}}return s?Promise.all(o).then(t=>tm(t,i,e,a)):tm(o,i,e,a)}}),tf=p("$ZodIntersection",(e,t)=>{eR.init(e,t),e._zod.parse=(e,r)=>{let n=e.value,i=t.left._zod.run({value:n,issues:[]},r),a=t.right._zod.run({value:n,issues:[]},r);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([t,r])=>tv(e,t,r)):tv(e,i,a)}});function tv(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),eo(e))return e;let n=function e(t,r){if(t===r||t instanceof Date&&r instanceof Date&&+t==+r)return{valid:!0,data:t};if(ee(t)&&ee(r)){let n=Object.keys(r),i=Object.keys(t).filter(e=>-1!==n.indexOf(e)),a={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};a[n]=i.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return{valid:!1,mergeErrorPath:[]};let n=[];for(let i=0;i<t.length;i++){let a=e(t[i],r[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}(t.value,r.value);if(!n.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}let tg=p("$ZodEnum",(e,t)=>{eR.init(e,t);let r=function(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=RegExp(`^(${r.filter(e=>er.has(typeof e)).map(e=>"string"==typeof e?en(e):e.toString()).join("|")})$`),e._zod.parse=(t,i)=>{let a=t.value;return n.has(a)||t.issues.push({code:"invalid_value",values:r,input:a,inst:e}),t}}),tx=p("$ZodTransform",(e,t)=>{eR.init(e,t),e._zod.parse=(r,n)=>{if("backward"===n.direction)throw new h(e.constructor.name);let i=t.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(r.value=e,r));if(i instanceof Promise)throw new m;return r.value=i,r}});function t_(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}let tb=p("$ZodOptional",(e,t)=>{eR.init(e,t),e._zod.optin="optional",e._zod.optout="optional",B(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),B(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${G(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>{if("optional"===t.innerType._zod.optin){let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(t=>t_(t,e.value)):t_(n,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,r)}}),ty=p("$ZodNullable",(e,t)=>{eR.init(e,t),B(e._zod,"optin",()=>t.innerType._zod.optin),B(e._zod,"optout",()=>t.innerType._zod.optout),B(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${G(e.source)}|null)$`):void 0}),B(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),tj=p("$ZodDefault",(e,t)=>{eR.init(e,t),e._zod.optin="optional",B(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);if(void 0===e.value)return e.value=t.defaultValue,e;let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(e=>tz(e,t)):tz(n,t)}});function tz(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}let tw=p("$ZodPrefault",(e,t)=>{eR.init(e,t),e._zod.optin="optional",B(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>("backward"===r.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),tN=p("$ZodNonOptional",(e,t)=>{eR.init(e,t),B(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,n)=>{let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(t=>tk(t,e)):tk(i,e)}});function tk(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}let tC=p("$ZodCatch",(e,t)=>{eR.init(e,t),B(e._zod,"optin",()=>t.innerType._zod.optin),B(e._zod,"optout",()=>t.innerType._zod.optout),B(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(n=>(e.value=n.value,n.issues.length&&(e.value=t.catchValue({...e,error:{issues:n.issues.map(e=>ec(e,r,v()))},input:e.value}),e.issues=[]),e)):(e.value=n.value,n.issues.length&&(e.value=t.catchValue({...e,error:{issues:n.issues.map(e=>ec(e,r,v()))},input:e.value}),e.issues=[]),e)}}),tE=p("$ZodPipe",(e,t)=>{eR.init(e,t),B(e._zod,"values",()=>t.in._zod.values),B(e._zod,"optin",()=>t.in._zod.optin),B(e._zod,"optout",()=>t.out._zod.optout),B(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("backward"===r.direction){let n=t.out._zod.run(e,r);return n instanceof Promise?n.then(e=>tA(e,t.in,r)):tA(n,t.in,r)}let n=t.in._zod.run(e,r);return n instanceof Promise?n.then(e=>tA(e,t.out,r)):tA(n,t.out,r)}});function tA(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}let tP=p("$ZodReadonly",(e,t)=>{eR.init(e,t),B(e._zod,"propValues",()=>t.innerType._zod.propValues),B(e._zod,"values",()=>t.innerType._zod.values),B(e._zod,"optin",()=>t.innerType._zod.optin),B(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(t$):t$(n)}});function t$(e){return e.value=Object.freeze(e.value),e}let tS=p("$ZodCustom",(e,t)=>{em.init(e,t),eR.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{let n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(t=>tI(t,r,n,e));tI(i,r,n,e)}});function tI(e,t,r,n){if(!e){let e={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(e.params=n._zod.def.params),t.issues.push(ep(e))}}Symbol("ZodOutput"),Symbol("ZodInput");class tO{constructor(){this._map=new Map,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};delete r.id;let n={...r,...this._map.get(e)};return Object.keys(n).length?n:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}let tZ=new tO;function tT(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ea(t)})}function tU(e,t){return new ef({check:"less_than",...ea(t),value:e,inclusive:!1})}function tD(e,t){return new ef({check:"less_than",...ea(t),value:e,inclusive:!0})}function tR(e,t){return new ev({check:"greater_than",...ea(t),value:e,inclusive:!1})}function tJ(e,t){return new ev({check:"greater_than",...ea(t),value:e,inclusive:!0})}function tq(e,t){return new eg({check:"multiple_of",...ea(t),value:e})}function tF(e,t){return new e_({check:"max_length",...ea(t),maximum:e})}function tM(e,t){return new eb({check:"min_length",...ea(t),minimum:e})}function tV(e,t){return new ey({check:"length_equals",...ea(t),length:e})}function tG(e){return new eA({check:"overwrite",tx:e})}let tL=p("ZodISODateTime",(e,t)=>{eQ.init(e,t),t5.init(e,t)}),tB=p("ZodISODate",(e,t)=>{e0.init(e,t),t5.init(e,t)}),tW=p("ZodISOTime",(e,t)=>{e1.init(e,t),t5.init(e,t)}),tH=p("ZodISODuration",(e,t)=>{e2.init(e,t),t5.init(e,t)}),tX=(e,t)=>{eS.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>(function(e,t){let r=t||function(e){return e.message},n={_errors:[]},i=e=>{for(let t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map(e=>i({issues:e}));else if("invalid_key"===t.code)i({issues:t.issues});else if("invalid_element"===t.code)i({issues:t.issues});else if(0===t.path.length)n._errors.push(r(t));else{let e=n,i=0;for(;i<t.path.length;){let n=t.path[i];i===t.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(r(t))):e[n]=e[n]||{_errors:[]},e=e[n],i++}}};return i(e),n})(e,t)},flatten:{value:t=>(function(e,t=e=>e.message){let r={},n=[];for(let i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}})(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,M,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,M,2)}},isEmpty:{get:()=>0===e.issues.length}})};p("ZodError",tX);let tY=p("ZodError",tX,{Parent:Error}),tK=(n=tY,(e,t,r,i)=>{let a=r?Object.assign(r,{async:!1}):{async:!1},s=e._zod.run({value:t,issues:[]},a);if(s instanceof Promise)throw new m;if(s.issues.length){let e=new(i?.Err??n)(s.issues.map(e=>ec(e,a,v())));throw Y(e,i?.callee),e}return s.value}),tQ=(i=tY,async(e,t,r,n)=>{let a=r?Object.assign(r,{async:!0}):{async:!0},s=e._zod.run({value:t,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){let e=new(n?.Err??i)(s.issues.map(e=>ec(e,a,v())));throw Y(e,n?.callee),e}return s.value}),t0=eO(tY),t1=eT(tY),t2=p("ZodType",(e,t)=>(eR.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),e.clone=(t,r)=>ei(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>tK(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>t0(e,t,r),e.parseAsync=async(t,r)=>tQ(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>t1(e,t,r),e.spa=e.safeParseAsync,e.refine=(t,r)=>e.check(function(e,t={}){return new rM({type:"custom",check:"custom",fn:e,...ea(t)})}(t,r)),e.superRefine=t=>e.check(function(e){let t=function(e,t){let r=new em({check:"custom",...ea(void 0)});return r._zod.check=e,r}(r=>(r.addIssue=e=>{"string"==typeof e?r.issues.push(ep(e,r.value,t._zod.def)):(e.fatal&&(e.continue=!1),e.code??(e.code="custom"),e.input??(e.input=r.value),e.inst??(e.inst=t),e.continue??(e.continue=!t._zod.def.abort),r.issues.push(ep(e)))},e(r.value,r)));return t}(t)),e.overwrite=t=>e.check(tG(t)),e.optional=()=>rI(e),e.nullable=()=>rZ(e),e.nullish=()=>rI(rZ(e)),e.nonoptional=t=>new rD({type:"nonoptional",innerType:e,...ea(t)}),e.array=()=>rw(e),e.or=t=>(function(e,t){return new rC({type:"union",options:e,...ea(t)})})([e,t]),e.and=t=>new rE({type:"intersection",left:e,right:t}),e.transform=t=>rq(e,function(e){return new r$({type:"transform",transform:e})}(t)),e.default=t=>(function(e,t){return new rT({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():et(t)}})})(e,t),e.prefault=t=>(function(e,t){return new rU({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():et(t)}})})(e,t),e.catch=t=>(function(e,t){return new rR({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})})(e,t),e.pipe=t=>rq(e,t),e.readonly=()=>new rF({type:"readonly",innerType:e}),e.describe=t=>{let r=e.clone();return tZ.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>tZ.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return tZ.get(e);let r=e.clone();return tZ.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),t4=p("_ZodString",(e,t)=>{eJ.init(e,t),t2.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...t)=>e.check(function(e,t){return new ez({check:"string_format",format:"regex",...ea(t),pattern:e})}(...t)),e.includes=(...t)=>e.check(function(e,t){return new ek({check:"string_format",format:"includes",...ea(t),includes:e})}(...t)),e.startsWith=(...t)=>e.check(function(e,t){return new eC({check:"string_format",format:"starts_with",...ea(t),prefix:e})}(...t)),e.endsWith=(...t)=>e.check(function(e,t){return new eE({check:"string_format",format:"ends_with",...ea(t),suffix:e})}(...t)),e.min=(...t)=>e.check(tM(...t)),e.max=(...t)=>e.check(tF(...t)),e.length=(...t)=>e.check(tV(...t)),e.nonempty=(...t)=>e.check(tM(1,...t)),e.lowercase=t=>e.check(new ew({check:"string_format",format:"lowercase",...ea(t)})),e.uppercase=t=>e.check(new eN({check:"string_format",format:"uppercase",...ea(t)})),e.trim=()=>e.check(tG(e=>e.trim())),e.normalize=(...t)=>e.check(function(e){return tG(t=>t.normalize(e))}(...t)),e.toLowerCase=()=>e.check(tG(e=>e.toLowerCase())),e.toUpperCase=()=>e.check(tG(e=>e.toUpperCase()))}),t9=p("ZodString",(e,t)=>{eJ.init(e,t),t4.init(e,t),e.email=t=>e.check(new t3({type:"string",format:"email",check:"string_format",abort:!1,...ea(t)})),e.url=t=>e.check(new re({type:"string",format:"url",check:"string_format",abort:!1,...ea(t)})),e.jwt=t=>e.check(new rf({type:"string",format:"jwt",check:"string_format",abort:!1,...ea(t)})),e.emoji=t=>e.check(new rt({type:"string",format:"emoji",check:"string_format",abort:!1,...ea(t)})),e.guid=t=>e.check(tT(t8,t)),e.uuid=t=>e.check(new t7({type:"string",format:"uuid",check:"string_format",abort:!1,...ea(t)})),e.uuidv4=t=>e.check(new t7({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ea(t)})),e.uuidv6=t=>e.check(new t7({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ea(t)})),e.uuidv7=t=>e.check(new t7({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ea(t)})),e.nanoid=t=>e.check(new rr({type:"string",format:"nanoid",check:"string_format",abort:!1,...ea(t)})),e.guid=t=>e.check(tT(t8,t)),e.cuid=t=>e.check(new rn({type:"string",format:"cuid",check:"string_format",abort:!1,...ea(t)})),e.cuid2=t=>e.check(new ri({type:"string",format:"cuid2",check:"string_format",abort:!1,...ea(t)})),e.ulid=t=>e.check(new ra({type:"string",format:"ulid",check:"string_format",abort:!1,...ea(t)})),e.base64=t=>e.check(new rp({type:"string",format:"base64",check:"string_format",abort:!1,...ea(t)})),e.base64url=t=>e.check(new rm({type:"string",format:"base64url",check:"string_format",abort:!1,...ea(t)})),e.xid=t=>e.check(new rs({type:"string",format:"xid",check:"string_format",abort:!1,...ea(t)})),e.ksuid=t=>e.check(new ro({type:"string",format:"ksuid",check:"string_format",abort:!1,...ea(t)})),e.ipv4=t=>e.check(new rl({type:"string",format:"ipv4",check:"string_format",abort:!1,...ea(t)})),e.ipv6=t=>e.check(new rd({type:"string",format:"ipv6",check:"string_format",abort:!1,...ea(t)})),e.cidrv4=t=>e.check(new rc({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ea(t)})),e.cidrv6=t=>e.check(new ru({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ea(t)})),e.e164=t=>e.check(new rh({type:"string",format:"e164",check:"string_format",abort:!1,...ea(t)})),e.datetime=t=>e.check(new tL({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ea(t)})),e.date=t=>e.check(new tB({type:"string",format:"date",check:"string_format",...ea(t)})),e.time=t=>e.check(new tW({type:"string",format:"time",check:"string_format",precision:null,...ea(t)})),e.duration=t=>e.check(new tH({type:"string",format:"duration",check:"string_format",...ea(t)}))});function t6(e){return new t9({type:"string",...ea(e)})}let t5=p("ZodStringFormat",(e,t)=>{eq.init(e,t),t4.init(e,t)}),t3=p("ZodEmail",(e,t)=>{eV.init(e,t),t5.init(e,t)}),t8=p("ZodGUID",(e,t)=>{eF.init(e,t),t5.init(e,t)}),t7=p("ZodUUID",(e,t)=>{eM.init(e,t),t5.init(e,t)}),re=p("ZodURL",(e,t)=>{eG.init(e,t),t5.init(e,t)}),rt=p("ZodEmoji",(e,t)=>{eL.init(e,t),t5.init(e,t)}),rr=p("ZodNanoID",(e,t)=>{eB.init(e,t),t5.init(e,t)}),rn=p("ZodCUID",(e,t)=>{eW.init(e,t),t5.init(e,t)}),ri=p("ZodCUID2",(e,t)=>{eH.init(e,t),t5.init(e,t)}),ra=p("ZodULID",(e,t)=>{eX.init(e,t),t5.init(e,t)}),rs=p("ZodXID",(e,t)=>{eY.init(e,t),t5.init(e,t)}),ro=p("ZodKSUID",(e,t)=>{eK.init(e,t),t5.init(e,t)}),rl=p("ZodIPv4",(e,t)=>{e4.init(e,t),t5.init(e,t)}),rd=p("ZodIPv6",(e,t)=>{e9.init(e,t),t5.init(e,t)}),rc=p("ZodCIDRv4",(e,t)=>{e6.init(e,t),t5.init(e,t)}),ru=p("ZodCIDRv6",(e,t)=>{e5.init(e,t),t5.init(e,t)}),rp=p("ZodBase64",(e,t)=>{e8.init(e,t),t5.init(e,t)}),rm=p("ZodBase64URL",(e,t)=>{e7.init(e,t),t5.init(e,t)}),rh=p("ZodE164",(e,t)=>{te.init(e,t),t5.init(e,t)}),rf=p("ZodJWT",(e,t)=>{tt.init(e,t),t5.init(e,t)}),rv=p("ZodNumber",(e,t)=>{tr.init(e,t),t2.init(e,t),e.gt=(t,r)=>e.check(tR(t,r)),e.gte=(t,r)=>e.check(tJ(t,r)),e.min=(t,r)=>e.check(tJ(t,r)),e.lt=(t,r)=>e.check(tU(t,r)),e.lte=(t,r)=>e.check(tD(t,r)),e.max=(t,r)=>e.check(tD(t,r)),e.int=t=>e.check(r_(t)),e.safe=t=>e.check(r_(t)),e.positive=t=>e.check(tR(0,t)),e.nonnegative=t=>e.check(tJ(0,t)),e.negative=t=>e.check(tU(0,t)),e.nonpositive=t=>e.check(tD(0,t)),e.multipleOf=(t,r)=>e.check(tq(t,r)),e.step=(t,r)=>e.check(tq(t,r)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function rg(e){return new rv({type:"number",checks:[],...ea(e)})}let rx=p("ZodNumberFormat",(e,t)=>{tn.init(e,t),rv.init(e,t)});function r_(e){return new rx({type:"number",check:"number_format",abort:!1,format:"safeint",...ea(e)})}let rb=p("ZodUnknown",(e,t)=>{ti.init(e,t),t2.init(e,t)});function ry(){return new rb({type:"unknown"})}let rj=p("ZodNever",(e,t)=>{ta.init(e,t),t2.init(e,t)}),rz=p("ZodArray",(e,t)=>{to.init(e,t),t2.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(tM(t,r)),e.nonempty=t=>e.check(tM(1,t)),e.max=(t,r)=>e.check(tF(t,r)),e.length=(t,r)=>e.check(tV(t,r)),e.unwrap=()=>e.element});function rw(e,t){return new rz({type:"array",element:e,...ea(t)})}let rN=p("ZodObject",(e,t)=>{tp.init(e,t),t2.init(e,t),B(e,"shape",()=>t.shape),e.keyof=()=>rP(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:ry()}),e.loose=()=>e.clone({...e._zod.def,catchall:ry()}),e.strict=()=>{var t;return e.clone({...e._zod.def,catchall:new rj({type:"never",...ea(void 0)})})},e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>(function(e,t){if(!ee(t))throw Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let n=H(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t};return W(this,"shape",r),r},checks:[]});return ei(e,n)})(e,t),e.safeExtend=t=>(function(e,t){if(!ee(t))throw Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let r={...e._zod.def.shape,...t};return W(this,"shape",r),r},checks:e._zod.def.checks};return ei(e,r)})(e,t),e.merge=t=>(function(e,t){let r=H(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return W(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return ei(e,r)})(e,t),e.pick=t=>(function(e,t){let r=e._zod.def,n=H(e._zod.def,{get shape(){let e={};for(let n in t){if(!(n in r.shape))throw Error(`Unrecognized key: "${n}"`);t[n]&&(e[n]=r.shape[n])}return W(this,"shape",e),e},checks:[]});return ei(e,n)})(e,t),e.omit=t=>(function(e,t){let r=e._zod.def,n=H(e._zod.def,{get shape(){let n={...e._zod.def.shape};for(let e in t){if(!(e in r.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete n[e]}return W(this,"shape",n),n},checks:[]});return ei(e,n)})(e,t),e.partial=(...t)=>(function(e,t,r){let n=H(t._zod.def,{get shape(){let n=t._zod.def.shape,i={...n};if(r)for(let t in r){if(!(t in n))throw Error(`Unrecognized key: "${t}"`);r[t]&&(i[t]=e?new e({type:"optional",innerType:n[t]}):n[t])}else for(let t in n)i[t]=e?new e({type:"optional",innerType:n[t]}):n[t];return W(this,"shape",i),i},checks:[]});return ei(t,n)})(rS,e,t[0]),e.required=(...t)=>(function(e,t,r){let n=H(t._zod.def,{get shape(){let n=t._zod.def.shape,i={...n};if(r)for(let t in r){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);r[t]&&(i[t]=new e({type:"nonoptional",innerType:n[t]}))}else for(let t in n)i[t]=new e({type:"nonoptional",innerType:n[t]});return W(this,"shape",i),i},checks:[]});return ei(t,n)})(rD,e,t[0])});function rk(e,t){return new rN({type:"object",get shape(){return W(this,"shape",e?Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e)):{}),this.shape},...ea(t)})}let rC=p("ZodUnion",(e,t)=>{th.init(e,t),t2.init(e,t),e.options=t.options}),rE=p("ZodIntersection",(e,t)=>{tf.init(e,t),t2.init(e,t)}),rA=p("ZodEnum",(e,t)=>{tg.init(e,t),t2.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(e,n)=>{let i={};for(let n of e)if(r.has(n))i[n]=t.entries[n];else throw Error(`Key ${n} not found in enum`);return new rA({...t,checks:[],...ea(n),entries:i})},e.exclude=(e,n)=>{let i={...t.entries};for(let t of e)if(r.has(t))delete i[t];else throw Error(`Key ${t} not found in enum`);return new rA({...t,checks:[],...ea(n),entries:i})}});function rP(e,t){return new rA({type:"enum",entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...ea(t)})}let r$=p("ZodTransform",(e,t)=>{tx.init(e,t),t2.init(e,t),e._zod.parse=(r,n)=>{if("backward"===n.direction)throw new h(e.constructor.name);r.addIssue=n=>{"string"==typeof n?r.issues.push(ep(n,r.value,t)):(n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=r.value),n.inst??(n.inst=e),r.issues.push(ep(n)))};let i=t.transform(r.value,r);return i instanceof Promise?i.then(e=>(r.value=e,r)):(r.value=i,r)}}),rS=p("ZodOptional",(e,t)=>{tb.init(e,t),t2.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rI(e){return new rS({type:"optional",innerType:e})}let rO=p("ZodNullable",(e,t)=>{ty.init(e,t),t2.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rZ(e){return new rO({type:"nullable",innerType:e})}let rT=p("ZodDefault",(e,t)=>{tj.init(e,t),t2.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap}),rU=p("ZodPrefault",(e,t)=>{tw.init(e,t),t2.init(e,t),e.unwrap=()=>e._zod.def.innerType}),rD=p("ZodNonOptional",(e,t)=>{tN.init(e,t),t2.init(e,t),e.unwrap=()=>e._zod.def.innerType}),rR=p("ZodCatch",(e,t)=>{tC.init(e,t),t2.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap}),rJ=p("ZodPipe",(e,t)=>{tE.init(e,t),t2.init(e,t),e.in=t.in,e.out=t.out});function rq(e,t){return new rJ({type:"pipe",in:e,out:t})}let rF=p("ZodReadonly",(e,t)=>{tP.init(e,t),t2.init(e,t),e.unwrap=()=>e._zod.def.innerType}),rM=p("ZodCustom",(e,t)=>{tS.init(e,t),t2.init(e,t)}),rV=rk({id:t6(),codigo:t6().min(1,"C\xf3digo obrigat\xf3rio"),nome:t6().min(1,"Nome obrigat\xf3rio"),quantidade:rg().min(0,"Quantidade deve ser positiva"),unidade:t6().min(1,"Unidade obrigat\xf3ria"),preco:rg().optional(),status:rP(["necessario","opcional","substituivel"]),fornecedor:t6().optional(),obs:t6().optional()}),rG=rk({id:t6(),servico:t6().min(1,"Servi\xe7o obrigat\xf3rio"),descricao:t6().min(1,"Descri\xe7\xe3o obrigat\xf3ria"),quantidade:rg().optional(),unidade:t6().optional(),duracaoHoras:rg().optional(),custoMO:rg().optional(),status:rP(["planejada","opcional","removida"])}),rL=rk({id:t6().min(1,"Cliente obrigat\xf3rio"),contato_nome:t6().min(1,"Nome do contato obrigat\xf3rio"),contato_email:t6().email("E-mail inv\xe1lido"),contato_telefone:t6().optional(),local_endereco:t6().min(1,"Endere\xe7o obrigat\xf3rio"),titulo:t6().min(1,"T\xedtulo obrigat\xf3rio")}),rB=rk({tempo_para_aceite:rg().min(1,"Tempo para aceite deve ser positivo"),validade_proposta:t6().min(1,"Validade obrigat\xf3ria"),prazo_execucao_dias:rg().min(1,"Prazo de execu\xe7\xe3o deve ser positivo"),janela:t6().optional(),restricoes:t6().optional()}),rW=rk({condicoes_pagamento:t6().min(1,"Condi\xe7\xf5es de pagamento obrigat\xf3rias"),garantia:t6().min(1,"Garantia obrigat\xf3ria"),exclusoes:t6().min(1,"Exclus\xf5es obrigat\xf3rias"),condicoes_gerais:t6().min(1,"Condi\xe7\xf5es gerais obrigat\xf3rias"),desconto:rg().min(0).max(100,"Desconto deve estar entre 0 e 100%")}),rH=rk({custo_material:rg().min(0),custo_mo:rg().min(0),horas_mo:rg().min(0),custo_terceiros:rg().min(0),overhead_pct:rg().min(0).max(100),margem_pct:rg().min(0).max(100),impostos_pct:rg().min(0).max(100),contingencia_pct:rg().min(0).max(100),frete:rg().min(0)}),rX=rk({gatilho:rP(["na_aprovacao","por_marcos","na_entrega","custom"]),percentual_sinal:rg().min(0).max(100),forma_preferida:t6().min(1,"Forma de pagamento obrigat\xf3ria"),instrucoes:t6().optional()}),rY=rk({cliente:rL,escopo:t6().min(10,"Escopo deve ter pelo menos 10 caracteres"),prazos:rB,permite:rP(["NECESSARIO","NAO_NECESSARIO","OBTIDO"]),quaisPermites:t6().optional(),normas:t6().optional(),inspecoes:t6().optional(),materiais:rw(rV),etapas:rw(rG),comerciais:rW,interno:rH,faturamento:rX,obsCliente:t6().optional(),obsInternas:t6().optional(),status:rP(["RASCUNHO","PENDENTE_APROVACAO","APROVADA","REJEITADA","CANCELADA","ENVIADA","ASSINADA"])});function rK(){let[e,t]=(0,s.useState)(!1),[r,n]=(0,s.useState)("idle"),[i,p]=(0,s.useState)(l.f6.RASCUNHO),m=(0,o.useRouter)(),{showToast:h}=(0,d.d)(),{clientes:f,loading:v,error:g}=(0,c.n)(),[x,_]=(0,s.useState)({id:"",contato_nome:"",contato_email:"",contato_telefone:"",local_endereco:"",titulo:""}),[b,y]=(0,s.useState)(""),[j,z]=(0,s.useState)({tempo_para_aceite:7,validade_proposta:"",prazo_execucao_dias:5,janela:"",restricoes:""}),[w,N]=(0,s.useState)(l.Do.NAO_NECESSARIO),[k,C]=(0,s.useState)(""),[E,A]=(0,s.useState)(""),[P,$]=(0,s.useState)(""),[S,I]=(0,s.useState)({condicoes_pagamento:"40% na aprova\xe7\xe3o, 40% ap\xf3s etapa X, 20% na entrega",garantia:"12 meses m\xe3o de obra; 3 meses materiais",exclusoes:"Demoli\xe7\xf5es estruturais, pintura externa, taxas municipais",condicoes_gerais:"Servi\xe7os conforme normas; atrasos por clima n\xe3o imput\xe1veis; SLA 48h.",desconto:0}),[O,Z]=(0,s.useState)({custo_material:0,custo_mo:0,horas_mo:0,custo_terceiros:0,overhead_pct:12,margem_pct:20,impostos_pct:0,contingencia_pct:0,frete:0}),[T,U]=(0,s.useState)([{id:crypto.randomUUID(),codigo:"CABO-14AWG",nome:"Cabo 14 AWG",quantidade:120,unidade:"m",preco:.35,status:"necessario"}]),[D,R]=(0,s.useState)([{id:crypto.randomUUID(),servico:"Instala\xe7\xe3o de QDC",descricao:"Montagem e organiza\xe7\xe3o de circuitos.",quantidade:1,unidade:"servi\xe7o",duracaoHoras:8,custoMO:250,status:"planejada"}]),[J,q]=(0,s.useState)({gatilho:"na_aprovacao",percentual_sinal:40,forma_preferida:"Invoice",instrucoes:"Pagamento via invoice at\xe9 3 dias ap\xf3s emiss\xe3o."}),[F,M]=(0,s.useState)(""),[V,G]=(0,s.useState)(""),L=(0,s.useMemo)(()=>{let e=T.reduce((e,t)=>e+(t.preco?t.preco*(t.quantidade||0):0),0)||0,t=O.custo_mo||0,r=O.custo_terceiros||0,n=O.frete||0,i=e+t+r+n,a=i*(Number(O.overhead_pct||0)/100),s=(i+a)*(Number(O.margem_pct||0)/100),o=(i+a+s)*(Number(O.contingencia_pct||0)/100),l=i+a+s+o,d=l*(Number(O.impostos_pct||0)/100);return{mat:e,mo:t,terce:r,frete:n,overhead:a,margem:s,conting:o,impostos:d,precoCliente:l+d}},[T,O]),B=(0,s.useMemo)(()=>({cliente:x,escopo:b,prazos:j,permite:w,quaisPermites:k,normas:E,inspecoes:P,materiais:T,etapas:D,comerciais:S,interno:O,faturamento:J,obsCliente:F,obsInternas:V,status:i}),[x,b,j,w,k,E,P,T,D,S,O,J,F,V,i]),{debouncedSave:W}=function(e,t=!0){let r=(0,s.useRef)(null),n=(0,s.useRef)(""),i=(0,s.useCallback)(async e=>{try{let t={...e,status:"RASCUNHO"};(await fetch("/api/propostas/rascunho",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok}catch{}},[]),a=(0,s.useCallback)(e=>{if(!t)return;let a=JSON.stringify(e);a!==n.current&&(r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{n.current=a,i(e)},3e3))},[t,i]);return{saveRascunho:i,debouncedSave:a}}(0,!e),H=e=>U(t=>t.filter(t=>t.id!==e)),X=e=>R(t=>t.filter(t=>t.id!==e)),Y=e=>{let t=f.find(t=>t.id===e);t&&_(r=>({...r,id:e,contato_nome:t.nomeCompleto||t.razaoSocial||t.nomeFantasia||"",contato_email:t.email,contato_telefone:t.telefone||""}))},K=async(e=!1)=>{n("saving"),t(!0);try{let t=rY.parse(B),r=await fetch("/api/propostas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(r.ok){let t=await r.json();n("saved"),h({title:"Sucesso",message:e?"Rascunho salvo com sucesso!":"Proposta criada com sucesso!",type:"success"}),!e&&t.proposta?.id&&m.push(`/propostas/${t.proposta.id}`)}else{let e=await r.json();throw Error(e.message||"Erro ao salvar proposta")}}catch(e){n("error"),console.error("Erro ao salvar:",e),h({title:"Erro",message:e instanceof Error?e.message:"Erro ao salvar proposta",type:"error"})}finally{t(!1),setTimeout(()=>n("idle"),3e3)}},Q={"--gp-blue":u.gp.blue,"--gp-orange":u.gp.orange},ee=i===l.f6.PENDENTE_APROVACAO?"orange":i===l.f6.APROVADA?"green":"red",et=i===l.f6.RASCUNHO?"Rascunho":i===l.f6.PENDENTE_APROVACAO?"Aguardando":i===l.f6.APROVADA?"Aprovada":"Cancelada";return(0,a.jsxs)("div",{style:Q,className:"min-h-screen bg-slate-50 dark:bg-transparent",children:[(0,a.jsxs)("div",{className:"mx-auto max-w-8xl px-6 py-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-title text-xl",children:"Proposta"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-slate-500",children:"Preencha os campos para gerar uma proposta completa e profissional."})]}),(0,a.jsxs)("div",{className:"mt-3 flex justify-end items-center gap-3",children:[i===l.f6.RASCUNHO&&(0,a.jsx)("div",{className:"hidden sm:flex items-center rounded-lg bg-yellow-50 px-3 py-1 text-xs font-medium text-yellow-800 dark:bg-yellow-900/30",children:"Rascunho"}),"saving"===r&&(0,a.jsx)("span",{className:"text-xs text-slate-500",children:"Salvando…"}),"saved"===r&&(0,a.jsx)("span",{className:"text-xs text-emerald-600",children:"✓ Salvo"}),"error"===r&&(0,a.jsx)("span",{className:"text-xs text-red-600",children:"✗ Erro"}),(0,a.jsx)("button",{onClick:()=>K(!0),disabled:e||v,className:"rounded-xl border border-slate-200 dark:border-white/10 bg-white dark:bg-white/5 px-4 py-2 text-sm font-medium text-slate-700 dark:text-white shadow-sm hover:bg-slate-50 disabled:opacity-50",children:e?"Salvando...":"Salvar rascunho"}),(0,a.jsx)("button",{onClick:()=>K(!1),disabled:e||v,className:"rounded-xl bg-[var(--gp-blue)] px-4 py-2 text-sm font-semibold text-white shadow-sm hover:opacity-95 disabled:opacity-50",children:e?"Criando...":"Criar Proposta"})]})]}),(0,a.jsxs)("main",{className:"mx-auto grid max-w-8xl grid-cols-1 gap-6 px-6 py-6 lg:grid-cols-4",children:[(0,a.jsxs)("div",{className:"order-2 flex flex-col gap-6 lg:order-1 lg:col-span-3",children:[(0,a.jsx)(u.wn,{title:"Dados Cadastrais",subtitle:"Dados do cliente e do local de execu\xe7\xe3o.",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{required:!0,children:"Cliente"}),v?(0,a.jsxs)("div",{className:"flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[(0,a.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border border-slate-400 border-t-transparent"}),(0,a.jsx)("span",{className:"text-sm text-slate-500",children:"Carregando clientes..."})]}):(0,a.jsxs)(u.l6,{value:x.id,onChange:e=>Y(e.target.value),disabled:v,children:[(0,a.jsx)("option",{value:"",children:"Selecionar cliente…"}),f.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.nomeCompleto||e.razaoSocial||e.nomeFantasia," - ",e.email]},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{required:!0,children:"T\xedtulo"}),(0,a.jsx)(u.pd,{placeholder:"Reforma el\xe9trica apto 12B",value:x.titulo,onChange:e=>_({...x,titulo:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{required:!0,children:"Contato – Nome"}),(0,a.jsx)(u.pd,{value:x.contato_nome,onChange:e=>_({...x,contato_nome:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{required:!0,children:"Contato – E‑mail"}),(0,a.jsx)(u.pd,{type:"email",value:x.contato_email,onChange:e=>_({...x,contato_email:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{children:"Contato – Telefone"}),(0,a.jsx)(u.pd,{value:x.contato_telefone,onChange:e=>_({...x,contato_telefone:e.target.value})})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(u.JU,{required:!0,children:"Endere\xe7o de execu\xe7\xe3o"}),(0,a.jsx)(u.pd,{placeholder:"Rua, n\xba, cidade, estado, CEP",value:x.local_endereco,onChange:e=>_({...x,local_endereco:e.target.value})})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(u.JU,{required:!0,children:"Escopo (resumo)"}),(0,a.jsx)(u.TM,{placeholder:"Descreva o escopo geral do servi\xe7o…",value:b,onChange:e=>y(e.target.value)})]})]})}),(0,a.jsx)(u.wn,{title:"Prazos",subtitle:"Defina validade da proposta e prazos de execu\xe7\xe3o.",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{required:!0,children:"Tempo para aceite (dias)"}),(0,a.jsx)(u.pd,{type:"number",value:j.tempo_para_aceite,onChange:e=>z({...j,tempo_para_aceite:Number(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{required:!0,children:"Validade da proposta"}),(0,a.jsx)(u.pd,{type:"date",value:j.validade_proposta,onChange:e=>z({...j,validade_proposta:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{required:!0,children:"Prazo de execu\xe7\xe3o (dias)"}),(0,a.jsx)(u.pd,{type:"number",value:j.prazo_execucao_dias,onChange:e=>z({...j,prazo_execucao_dias:Number(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{children:"Janela preferencial"}),(0,a.jsx)(u.pd,{placeholder:"Seg‑Sex, 8h–17h",value:j.janela,onChange:e=>z({...j,janela:e.target.value})})]}),(0,a.jsxs)("div",{className:"md:col-span-4",children:[(0,a.jsx)(u.JU,{children:"Restri\xe7\xf5es de acesso"}),(0,a.jsx)(u.TM,{placeholder:"Ex.: cadastro de visitantes, carga/descarga at\xe9 16h…",value:j.restricoes,onChange:e=>z({...j,restricoes:e.target.value})})]})]})}),(0,a.jsx)(u.wn,{title:"Permiss\xf5es / Conformidades",subtitle:"Permits, normas e inspe\xe7\xf5es.",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{required:!0,children:"Permits necess\xe1rios?"}),(0,a.jsxs)(u.l6,{value:w,onChange:e=>N(e.target.value),children:[(0,a.jsx)("option",{value:l.Do.NAO_NECESSARIO,children:"N\xe3o"}),(0,a.jsx)("option",{value:l.Do.NECESSARIO,children:"Sim"})]})]}),(0,a.jsxs)("div",{className:"md:col-span-3",children:[(0,a.jsx)(u.JU,{className:w===l.Do.NECESSARIO?"":"opacity-50",children:"Quais permits"}),(0,a.jsx)(u.pd,{disabled:w!==l.Do.NECESSARIO,placeholder:"Ex.: El\xe9trica (City of Dallas)",value:k,onChange:e=>C(e.target.value)})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(u.JU,{children:"Normas de refer\xeancia"}),(0,a.jsx)(u.pd,{placeholder:"NEC 2023, ABNT NBR 5410",value:E,onChange:e=>A(e.target.value)})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(u.JU,{children:"Inspe\xe7\xf5es necess\xe1rias"}),(0,a.jsx)(u.pd,{placeholder:"Inspe\xe7\xe3o final el\xe9trica",value:P,onChange:e=>$(e.target.value)})]})]})}),(0,a.jsx)(u.wn,{title:"Materiais",subtitle:"Liste os materiais com quantidades e unidades.",children:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[T.map(e=>(0,a.jsxs)("div",{className:"grid grid-cols-12 items-end gap-2 rounded-xl border border-slate-200 bg-slate-50 dark:bg-transparent dark:border-white/10 p-3",children:[(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(u.JU,{required:!0,children:"C\xf3digo"}),(0,a.jsx)(u.pd,{value:e.codigo,onChange:t=>U(r=>r.map(r=>r.id===e.id?{...r,codigo:t.target.value}:r))})]}),(0,a.jsxs)("div",{className:"col-span-3",children:[(0,a.jsx)(u.JU,{required:!0,children:"Nome"}),(0,a.jsx)(u.pd,{value:e.nome,onChange:t=>U(r=>r.map(r=>r.id===e.id?{...r,nome:t.target.value}:r))})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(u.JU,{required:!0,children:"Quantidade"}),(0,a.jsx)(u.pd,{type:"number",value:e.quantidade,onChange:t=>U(r=>r.map(r=>r.id===e.id?{...r,quantidade:Number(t.target.value)}:r))})]}),(0,a.jsxs)("div",{className:"col-span-1",children:[(0,a.jsx)(u.JU,{required:!0,children:"Un"}),(0,a.jsx)(u.pd,{value:e.unidade,onChange:t=>U(r=>r.map(r=>r.id===e.id?{...r,unidade:t.target.value}:r))})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(u.JU,{children:"Pre\xe7o unit. (interno)"}),(0,a.jsx)(u.pd,{type:"number",step:"0.01",value:e.preco??"",onChange:t=>U(r=>r.map(r=>r.id===e.id?{...r,preco:Number(t.target.value)}:r))})]}),(0,a.jsx)("div",{className:"col-span-2 flex items-end justify-end gap-2",children:(0,a.jsx)("button",{onClick:()=>H(e.id),className:"rounded-lg border border-rose-200 bg-white dark:bg-white/5 px-3 py-2 text-xs font-medium text-rose-600 hover:bg-rose-50",children:"Remover"})})]},e.id)),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:()=>U(e=>[...e,{id:crypto.randomUUID(),codigo:"",nome:"",quantidade:1,unidade:"un",status:"necessario"}]),className:"rounded-xl bg-white dark:bg-white/5 px-4 py-2 text-sm font-medium text-[var(--gp-blue)] shadow-sm ring-1 ring-inset ring-slate-200 dark:ring-white/5 hover:bg-slate-50",children:"+ Adicionar material"})})]})}),(0,a.jsx)(u.wn,{title:"Etapas / Servi\xe7os",subtitle:"Descreva o que ser\xe1 executado e crit\xe9rios de aceite.",children:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[D.map(e=>(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-2 rounded-xl border border-slate-200 bg-slate-50 dark:bg-transparent dark:border-white/10 p-3",children:[(0,a.jsxs)("div",{className:"col-span-3",children:[(0,a.jsx)(u.JU,{required:!0,children:"Servi\xe7o"}),(0,a.jsx)(u.pd,{value:e.servico,onChange:t=>R(r=>r.map(r=>r.id===e.id?{...r,servico:t.target.value}:r))})]}),(0,a.jsxs)("div",{className:"col-span-5",children:[(0,a.jsx)(u.JU,{required:!0,children:"Descri\xe7\xe3o"}),(0,a.jsx)(u.TM,{rows:3,value:e.descricao,onChange:t=>R(r=>r.map(r=>r.id===e.id?{...r,descricao:t.target.value}:r))})]}),(0,a.jsxs)("div",{className:"col-span-1",children:[(0,a.jsx)(u.JU,{children:"Qtd"}),(0,a.jsx)(u.pd,{type:"number",value:e.quantidade??"",onChange:t=>R(r=>r.map(r=>r.id===e.id?{...r,quantidade:Number(t.target.value)}:r))})]}),(0,a.jsxs)("div",{className:"col-span-1",children:[(0,a.jsx)(u.JU,{children:"Un"}),(0,a.jsx)(u.pd,{value:e.unidade??"",onChange:t=>R(r=>r.map(r=>r.id===e.id?{...r,unidade:t.target.value}:r))})]}),(0,a.jsxs)("div",{className:"col-span-1",children:[(0,a.jsx)(u.JU,{children:"Horas"}),(0,a.jsx)(u.pd,{type:"number",value:e.duracaoHoras??"",onChange:t=>R(r=>r.map(r=>r.id===e.id?{...r,duracaoHoras:Number(t.target.value)}:r))})]}),(0,a.jsxs)("div",{className:"col-span-1",children:[(0,a.jsx)(u.JU,{children:"Custo MO"}),(0,a.jsx)(u.pd,{type:"number",step:"0.01",value:e.custoMO??"",onChange:t=>R(r=>r.map(r=>r.id===e.id?{...r,custoMO:Number(t.target.value)}:r))})]}),(0,a.jsxs)("div",{className:"col-span-12 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.JU,{children:"Status"}),(0,a.jsxs)(u.l6,{value:e.status,onChange:t=>R(r=>r.map(r=>r.id===e.id?{...r,status:t.target.value}:r)),className:"w-auto",children:[(0,a.jsx)("option",{value:"planejada",children:"Planejada"}),(0,a.jsx)("option",{value:"opcional",children:"Opcional"}),(0,a.jsx)("option",{value:"removida",children:"Removida"})]})]}),(0,a.jsx)("button",{onClick:()=>X(e.id),className:"rounded-lg border border-rose-200 bg-white dark:bg-white/5 px-3 py-2 text-xs font-medium text-rose-600 hover:bg-rose-50",children:"Remover"})]})]},e.id)),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:()=>R(e=>[...e,{id:crypto.randomUUID(),servico:"",descricao:"",quantidade:1,unidade:"servi\xe7o",status:"planejada"}]),className:"rounded-xl bg-white dark:bg-white/5 px-4 py-2 text-sm font-medium text-[var(--gp-blue)] shadow-sm ring-1 ring-inset ring-slate-200 dark:ring-white/5 hover:bg-slate-50",children:"+ Adicionar etapa"})})]})}),(0,a.jsx)(u.wn,{title:"Condi\xe7\xf5es Comerciais",subtitle:"Tudo que o cliente precisa saber para decidir.",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{required:!0,children:"Condi\xe7\xf5es de pagamento"}),(0,a.jsx)(u.TM,{value:S.condicoes_pagamento,onChange:e=>I({...S,condicoes_pagamento:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{required:!0,children:"Garantia"}),(0,a.jsx)(u.TM,{value:S.garantia,onChange:e=>I({...S,garantia:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{required:!0,children:"Exclus\xf5es"}),(0,a.jsx)(u.TM,{value:S.exclusoes,onChange:e=>I({...S,exclusoes:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{required:!0,children:"Condi\xe7\xf5es gerais"}),(0,a.jsx)(u.TM,{value:S.condicoes_gerais,onChange:e=>I({...S,condicoes_gerais:e.target.value})})]})]})}),(0,a.jsx)(u.wn,{title:"Faturamento / Invoice",subtitle:"Defina quando e como faturar.",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{required:!0,children:"Gatilho"}),(0,a.jsxs)(u.l6,{value:J.gatilho,onChange:e=>q({...J,gatilho:e.target.value}),children:[(0,a.jsx)("option",{value:"na_aprovacao",children:"Na aprova\xe7\xe3o"}),(0,a.jsx)("option",{value:"por_marcos",children:"Por marcos"}),(0,a.jsx)("option",{value:"na_entrega",children:"Na entrega"}),(0,a.jsx)("option",{value:"custom",children:"Custom"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{children:"% sinal (se aplic\xe1vel)"}),(0,a.jsx)(u.pd,{type:"number",value:J.percentual_sinal,onChange:e=>q({...J,percentual_sinal:Number(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{children:"Forma preferida"}),(0,a.jsxs)(u.l6,{value:J.forma_preferida,onChange:e=>q({...J,forma_preferida:e.target.value}),children:[(0,a.jsx)("option",{children:"Invoice"}),(0,a.jsx)("option",{children:"PIX/Zelle"}),(0,a.jsx)("option",{children:"Cart\xe3o"}),(0,a.jsx)("option",{children:"Transfer\xeancia"})]})]}),(0,a.jsxs)("div",{className:"md:col-span-4",children:[(0,a.jsx)(u.JU,{children:"Instru\xe7\xf5es"}),(0,a.jsx)(u.TM,{value:J.instrucoes,onChange:e=>q({...J,instrucoes:e.target.value})})]})]})}),(0,a.jsx)(u.wn,{title:"Observa\xe7\xf5es",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{children:"Observa\xe7\xf5es para o cliente (aparecem no PDF)"}),(0,a.jsx)(u.TM,{value:F,onChange:e=>M(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{children:"Observa\xe7\xf5es internas (n\xe3o aparecem no PDF)"}),(0,a.jsx)(u.TM,{value:V,onChange:e=>G(e.target.value)})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[(0,a.jsx)("button",{onClick:()=>m.back(),className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50",children:"Cancelar"}),(0,a.jsx)("button",{onClick:()=>K(!1),disabled:e,className:"rounded-xl bg-[var(--gp-blue)] px-4 py-2 text-sm font-semibold text-white shadow-sm hover:opacity-95 disabled:opacity-50",children:e?"Salvando...":"Salvar e continuar"})]})]}),(0,a.jsxs)("div",{className:"order-1 flex flex-col gap-6 lg:order-2",children:[(0,a.jsxs)("section",{className:"rounded-2xl border border-slate-200 bg-white dark:bg-white/5 dark:border-white/10 p-5 shadow-sm",children:[(0,a.jsxs)("div",{className:"mb-3 flex items-start justify-between",children:[(0,a.jsx)("h3",{className:"text-base font-semibold text-slate-800",children:"Resumo de Pre\xe7o (interno)"}),(0,a.jsx)(u.Ex,{children:"Privado"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 text-sm",children:[(0,a.jsx)("span",{className:"text-slate-500",children:"Materiais"}),(0,a.jsx)("span",{className:"text-right font-medium",children:(0,u.Gl)(L.mat)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 text-sm",children:[(0,a.jsx)("span",{className:"text-slate-500",children:"M\xe3o de obra"}),(0,a.jsx)("span",{className:"text-right font-medium",children:(0,u.Gl)(L.mo)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 text-sm",children:[(0,a.jsx)("span",{className:"text-slate-500",children:"Terceiros"}),(0,a.jsx)("span",{className:"text-right font-medium",children:(0,u.Gl)(L.terce)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 text-sm",children:[(0,a.jsx)("span",{className:"text-slate-500",children:"Frete/Log\xedstica"}),(0,a.jsx)("span",{className:"text-right font-medium",children:(0,u.Gl)(L.frete)})]}),(0,a.jsx)("hr",{className:"my-2"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 text-sm",children:[(0,a.jsx)("span",{className:"text-slate-500",children:"Overhead"}),(0,a.jsx)("span",{className:"text-right font-medium",children:(0,u.Gl)(L.overhead)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 text-sm",children:[(0,a.jsx)("span",{className:"text-slate-500",children:"Margem"}),(0,a.jsx)("span",{className:"text-right font-medium",children:(0,u.Gl)(L.margem)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 text-sm",children:[(0,a.jsx)("span",{className:"text-slate-500",children:"Conting\xeancia"}),(0,a.jsx)("span",{className:"text-right font-medium",children:(0,u.Gl)(L.conting)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 text-sm",children:[(0,a.jsx)("span",{className:"text-slate-500",children:"Impostos"}),(0,a.jsx)("span",{className:"text-right font-medium",children:(0,u.Gl)(L.impostos)})]}),(0,a.jsx)("div",{className:"mt-3 rounded-xl bg-slate-50 dark:bg-transparent p-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"font-semibold text-slate-700",children:"Pre\xe7o ao cliente (estimado)"}),(0,a.jsx)("span",{className:"text-base font-semibold text-slate-900",children:(0,u.Gl)(L.precoCliente)})]})})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-3 text-xs",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{children:"Overhead (%)"}),(0,a.jsx)(u.pd,{type:"number",value:O.overhead_pct,onChange:e=>Z({...O,overhead_pct:Number(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{children:"Margem (%)"}),(0,a.jsx)(u.pd,{type:"number",value:O.margem_pct,onChange:e=>Z({...O,margem_pct:Number(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{children:"Impostos (%)"}),(0,a.jsx)(u.pd,{type:"number",value:O.impostos_pct,onChange:e=>Z({...O,impostos_pct:Number(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{children:"Conting\xeancia (%)"}),(0,a.jsx)(u.pd,{type:"number",value:O.contingencia_pct,onChange:e=>Z({...O,contingencia_pct:Number(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{children:"Custo materiais"}),(0,a.jsx)(u.pd,{type:"number",step:"0.01",value:O.custo_material,onChange:e=>Z({...O,custo_material:Number(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{children:"Custo m\xe3o de obra"}),(0,a.jsx)(u.pd,{type:"number",step:"0.01",value:O.custo_mo,onChange:e=>Z({...O,custo_mo:Number(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{children:"Horas MO"}),(0,a.jsx)(u.pd,{type:"number",value:O.horas_mo,onChange:e=>Z({...O,horas_mo:Number(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{children:"Terceiros"}),(0,a.jsx)(u.pd,{type:"number",step:"0.01",value:O.custo_terceiros,onChange:e=>Z({...O,custo_terceiros:Number(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.JU,{children:"Frete/Log"}),(0,a.jsx)(u.pd,{type:"number",step:"0.01",value:O.frete,onChange:e=>Z({...O,frete:Number(e.target.value)})})]})]})]}),(0,a.jsx)(u.wn,{title:"Status da Proposta",subtitle:"Controle o estado atual da proposta.",children:(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:["Status atual: ",(0,a.jsx)(u.Ex,{color:ee,children:et})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>p(l.f6.APROVADA),className:"rounded-xl border border-emerald-200 bg-white dark:bg-white/5 px-3 py-2 text-xs font-semibold text-emerald-700 hover:bg-emerald-50",children:"Marcar aprovada"}),(0,a.jsx)("button",{onClick:()=>p(l.f6.CANCELADA),className:"rounded-xl border border-rose-200 bg-white dark:bg-white/5 px-3 py-2 text-xs font-semibold text-rose-700 hover:bg-rose-50",children:"Cancelar"})]})]})})})]})]}),(0,a.jsx)("footer",{className:"mx-auto max-w-7xl px-4 pb-10 pt-4 text-center text-xs text-slate-400",children:"Formul\xe1rio de proposta • GladPros • Sistema integrado"})]})}},6963:(e,t,r)=>{"use strict";r.d(t,{d:()=>i}),r(60687),r(43210);var n=r(34374);function i(){let e=(0,n.d)();return{showToast:({title:t,message:r,type:n="info",duration:i})=>{if("number"==typeof i)return void e.addToast({title:t??"",message:r,type:n,duration:i});switch(n){case"success":e.success(t??"Sucesso",r);break;case"error":e.error(t??"Erro",r);break;case"warning":e.warning(t??"Aviso",r);break;default:e.info(t??"",r)}}}}},7066:e=>{"use strict";e.exports=require("node:tty")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29451:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(37413),i=r(80665),a=r(1440),s=r(69318),o=r(39596);async function l(){let e=await (0,a.M)();return(0,n.jsx)(i.default,{user:e,children:(0,n.jsx)(o.ClientesProvider,{children:(0,n.jsx)(s.default,{})})})}},31421:e=>{"use strict";e.exports=require("node:child_process")},33873:e=>{"use strict";e.exports=require("path")},39596:(e,t,r)=>{"use strict";r.d(t,{ClientesProvider:()=>i});var n=r(12907);let i=(0,n.registerClientReference)(function(){throw Error("Attempted to call ClientesProvider() from the server but ClientesProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\gladi\\Documents\\gladpros-nextjs\\src\\modules\\propostas\\ui\\ClientesContext.tsx","ClientesProvider");(0,n.registerClientReference)(function(){throw Error("Attempted to call useClientes() from the server but useClientes is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\gladi\\Documents\\gladpros-nextjs\\src\\modules\\propostas\\ui\\ClientesContext.tsx","useClientes")},39618:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var n=r(65239),i=r(48088),a=r(88170),s=r.n(a),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["propostas",{children:["nova",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,29451)),"C:\\Users\\gladi\\Documents\\gladpros-nextjs\\src\\app\\propostas\\nova\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,75017)),"C:\\Users\\gladi\\Documents\\gladpros-nextjs\\src\\app\\propostas\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,51520))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\gladi\\Documents\\gladpros-nextjs\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,54431)),"C:\\Users\\gladi\\Documents\\gladpros-nextjs\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"C:\\Users\\gladi\\Documents\\gladpros-nextjs\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,51520))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\gladi\\Documents\\gladpros-nextjs\\src\\app\\propostas\\nova\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/propostas/nova/page",pathname:"/propostas/nova",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},42843:(e,t,r)=>{Promise.resolve().then(r.bind(r,37099)),Promise.resolve().then(r.bind(r,60198)),Promise.resolve().then(r.bind(r,6066))},48161:e=>{"use strict";e.exports=require("node:os")},51455:e=>{"use strict";e.exports=require("node:fs/promises")},57975:e=>{"use strict";e.exports=require("node:util")},60198:(e,t,r)=>{"use strict";r.d(t,{ClientesProvider:()=>s,n:()=>o});var n=r(60687),i=r(43210);let a=(0,i.createContext)(void 0);function s({children:e}){let[t,r]=(0,i.useState)([]),[s,o]=(0,i.useState)(!0),[l,d]=(0,i.useState)(null),c=async()=>{try{o(!0),d(null);let e=await fetch("/api/clientes?limit=1000");if(!e.ok)throw Error("Erro ao carregar clientes");let t=await e.json();r(t.clientes||[])}catch(e){d(e instanceof Error?e.message:"Erro desconhecido"),console.error("Erro ao carregar clientes:",e)}finally{o(!1)}};return(0,n.jsx)(a.Provider,{value:{clientes:t,loading:s,error:l,refetch:()=>{c()}},children:e})}function o(){let e=(0,i.useContext)(a);if(void 0===e)throw Error("useClientes must be used within a ClientesProvider");return e}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69318:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\gladi\\\\Documents\\\\gladpros-nextjs\\\\src\\\\modules\\\\propostas\\\\ui\\\\PropostaForm.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\gladi\\Documents\\gladpros-nextjs\\src\\modules\\propostas\\ui\\PropostaForm.tsx","default")},73024:e=>{"use strict";e.exports=require("node:fs")},75017:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(37413),i=r(80665),a=r(1440);async function s({children:e}){let t=await (0,a.M)();return(0,n.jsx)(i.default,{user:t,children:e})}},76760:e=>{"use strict";e.exports=require("node:path")},77187:(e,t,r)=>{Promise.resolve().then(r.bind(r,80665)),Promise.resolve().then(r.bind(r,39596)),Promise.resolve().then(r.bind(r,69318))},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},79551:e=>{"use strict";e.exports=require("url")},99150:(e,t,r)=>{"use strict";r.d(t,{Do:()=>i,f6:()=>n});var n=function(e){return e.RASCUNHO="RASCUNHO",e.PENDENTE_APROVACAO="PENDENTE_APROVACAO",e.APROVADA="APROVADA",e.REJEITADA="REJEITADA",e.CANCELADA="CANCELADA",e.ENVIADA="ENVIADA",e.ASSINADA="ASSINADA",e}({}),i=function(e){return e.NECESSARIO="NECESSARIO",e.NAO_NECESSARIO="NAO_NECESSARIO",e.OBTIDO="OBTIDO",e}({})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[7719,9942,4250,4553,5814,6994,6792,7920,8964],()=>r(39618));module.exports=n})();